[{"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\index.js":"1","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\App.js":"2","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\firebase-config.js":"3","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\routes\\Routes.jsx":"4","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\InmuebleEspecifico.jsx":"5","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Bienvenida.jsx":"6","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\login\\Login.jsx":"7","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\register\\Register.jsx":"8","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\VistaPrincipal.jsx":"9","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\PublicarInmueble.jsx":"10","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Upload.jsx":"11","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\profile\\Profile.jsx":"12","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\api\\UserAPI.js":"13","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\register\\RegisterForm.jsx":"14","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\login\\LoginForm.jsx":"15","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\base\\HousePaper.jsx":"16","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\ImageUpload.jsx":"17","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\api\\PropertyAPI.js":"18","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\HeaderSimple.jsx":"19","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Footer.jsx":"20","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Properties.jsx":"21","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Filter.jsx":"22","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Header.jsx":"23","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Buscar.jsx":"24","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Property.jsx":"25"},{"size":422,"mtime":1620872934288,"results":"26","hashOfConfig":"27"},{"size":209,"mtime":1617938841571,"results":"28","hashOfConfig":"27"},{"size":384,"mtime":1618114188881,"results":"29","hashOfConfig":"27"},{"size":1450,"mtime":1620872934292,"results":"30","hashOfConfig":"27"},{"size":6261,"mtime":1618114188869,"results":"31","hashOfConfig":"27"},{"size":857,"mtime":1617938841574,"results":"32","hashOfConfig":"27"},{"size":170,"mtime":1617938841586,"results":"33","hashOfConfig":"27"},{"size":178,"mtime":1617938841589,"results":"34","hashOfConfig":"27"},{"size":3595,"mtime":1620872934277,"results":"35","hashOfConfig":"27"},{"size":22374,"mtime":1620872957369,"results":"36","hashOfConfig":"27"},{"size":1857,"mtime":1620872934275,"results":"37","hashOfConfig":"27"},{"size":11580,"mtime":1620874806591,"results":"38","hashOfConfig":"27"},{"size":819,"mtime":1620874806586,"results":"39","hashOfConfig":"27"},{"size":6722,"mtime":1618114188880,"results":"40","hashOfConfig":"27"},{"size":5230,"mtime":1620872934281,"results":"41","hashOfConfig":"27"},{"size":1778,"mtime":1618114188878,"results":"42","hashOfConfig":"27"},{"size":746,"mtime":1620872934271,"results":"43","hashOfConfig":"27"},{"size":1754,"mtime":1620872934278,"results":"44","hashOfConfig":"27"},{"size":1636,"mtime":1620872934270,"results":"45","hashOfConfig":"27"},{"size":721,"mtime":1620872934266,"results":"46","hashOfConfig":"27"},{"size":3177,"mtime":1620872934272,"results":"47","hashOfConfig":"27"},{"size":22530,"mtime":1620874806582,"results":"48","hashOfConfig":"27"},{"size":2088,"mtime":1620872934267,"results":"49","hashOfConfig":"27"},{"size":941,"mtime":1618114188863,"results":"50","hashOfConfig":"27"},{"size":3236,"mtime":1620872934274,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1qad618",{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\index.js",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\App.js",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\firebase-config.js",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\routes\\Routes.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\InmuebleEspecifico.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Bienvenida.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\login\\Login.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\register\\Register.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\VistaPrincipal.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\PublicarInmueble.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Upload.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\profile\\Profile.jsx",["103"],"import {useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport './profile.css';\r\nimport Swal from 'sweetalert2';\r\nimport * as UserAPI from '../api/UserAPI.js';\r\nimport {useFirebaseApp} from 'reactfire';\r\n\r\nexport const Profile = (props) => {\r\n    \r\n    const firebase = useFirebaseApp();\r\n    const [passwd, setPsswd] = useState();\r\n    var user= JSON.parse(localStorage.getItem('User'));\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(\"https://rentopolis.herokuapp.com/home/user/\"+user.id)\r\n            .then(response => {\r\n                \r\n                let info= response.data;\r\n                document.getElementById(\"nombre\").value = info.name;\r\n                document.getElementById(\"numero\").value = info.phoneNumber;\r\n                document.getElementById(\"email\").value = info.email;\r\n                setPsswd(info.passwd);\r\n            }).catch(error => {\r\n                alert(\"Fallo de Conexión \");\r\n            });\r\n    },[])\r\n\r\n    \r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(document.getElementById(\"contraseña\").value !== document.getElementById(\"confirmarContraseña\").value){\r\n            Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'Las contraseñas deben ser iguales',\r\n                })\r\n        }else{ \r\n            \r\n            firebase.auth().onAuthStateChanged(function(userFire) {\r\n                if(userFire){\r\n                    if(document.getElementById(\"contraseña\").value !== \"\"){\r\n                        console.log(document.getElementById(\"contraseña\").value);\r\n                        userFire.updatePassword(document.getElementById(\"contraseña\").value).then(function() {\r\n                            axios.put('https://rentopolis.herokuapp.com/home/'+user.id, {\r\n                                \"id\": user.id,\r\n                                \"name\": document.getElementById(\"nombre\").value,\r\n                                \"phoneNumber\": document.getElementById(\"numero\").value,\r\n                                \"email\": document.getElementById(\"email\").value,\r\n                                \"passwd\": document.getElementById(\"contraseña\").value\r\n                            }).then(function(response){\r\n                                console.log(response);\r\n                                firebase.auth().signInWithEmailAndPassword(user.email, document.getElementById(\"contraseña\").value);\r\n                                firebase.auth().onAuthStateChanged(function(userName) {\r\n                                    if(userName){\r\n                                        userName.updateEmail(document.getElementById(\"email\").value).then(function(){\r\n                                            UserAPI.GetUserByEmail(document.getElementById(\"email\").value,function(response){}); \r\n                                            window.location.href = \"/inicio\";\r\n                                        }).catch(function(error) {\r\n                                            console.log(error);\r\n                                        });\r\n                                    }\r\n                                })\r\n                            })\r\n                        }).catch(function(error) {\r\n                            console.log(error);\r\n                        })\r\n                    }else{\r\n                        axios.put('https://rentopolis.herokuapp.com/home/'+user.id, {\r\n                            \"id\": user.id,\r\n                            \"name\": document.getElementById(\"nombre\").value,\r\n                            \"phoneNumber\": document.getElementById(\"numero\").value,\r\n                            \"email\": document.getElementById(\"email\").value,\r\n                            \"passwd\": passwd\r\n                        }).then(function(response){\r\n                            console.log(response);\r\n                            firebase.auth().signInWithEmailAndPassword(user.email, document.getElementById(\"contraseña\").value);\r\n                            firebase.auth().onAuthStateChanged(function(userName) {\r\n                                if(userName){\r\n                                    userName.updateEmail(document.getElementById(\"email\").value).then(function(){\r\n                                        UserAPI.GetUserByEmail(document.getElementById(\"email\").value,function(response){}); \r\n                                        window.location.href = \"/inicio\";\r\n                                    }).catch(function(error) {\r\n                                        console.log(error);\r\n                                    });\r\n                                }\r\n                            })\r\n                        })\r\n                    } \r\n                    \r\n                }\r\n            });\r\n            \r\n        }\r\n    }\r\n\r\n    const handleAblePassword = (event) => {\r\n        event.preventDefault();\r\n        if(document.getElementById(\"contraseña\").value !== \"\" ){\r\n            document.getElementById(\"confirmarContraseña\").disabled=false;\r\n            \r\n        }else{\r\n            document.getElementById(\"confirmarContraseña\").disabled=true;\r\n            document.getElementById(\"confirmarContraseña\").value='';\r\n        }\r\n    }\r\n    \r\n    const handleDeleteUser = (event) =>{\r\n        event.preventDefault();\r\n        Swal.fire({\r\n            icon: 'warning',\r\n            title: 'Estas seguro?',\r\n            text: 'Estas seguro que quieres borrar la cuenta?',\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Si, borrar!\",\r\n            cancelButtonText: \"No!\"\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                firebase.auth().signInWithEmailAndPassword(document.getElementById(\"email\").value, document.getElementById(\"contraseña\").value);\r\n                firebase.auth().onAuthStateChanged(function(userFire) {\r\n                    if(userFire){\r\n                        userFire.delete().then(function(){\r\n                            axios.delete('https://rentopolis.herokuapp.com/home/'+user.id).then(function(){\r\n                                Swal.fire(\r\n                                    'Borrado!',\r\n                                    'Tu cuenta ha sido borrada.',\r\n                                    'success'\r\n                                )\r\n                            });\r\n                            window.location.href = \"/login\";\r\n                        }).catch(function(error) {\r\n                            console.log(error);\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n        <section className=\"header-main border-bottom\">\r\n            <div className=\"container\">\r\n                <div className=\"row align-items-center\">\r\n                    <div className=\"col-lg-2 col-4\">\r\n                        <a style={{fontSize: 30}} href=\"/inicio\" className=\"brand-wrap\">\r\n                            Rentopolis\r\n                        </a>\r\n                    </div>\r\n                   \r\n                    <div className=\"col-lg-4 col-sm-6 col-12 last-item\">\r\n                        <div className=\"widgets-wrap float-md-right\">\r\n\r\n                            <div className=\"widget-header\">\r\n                                <a href=\"/profile\" className=\"icon icon-sm \">\r\n                                    <AccountCircleIcon style={{fontSize: 40}}/>\r\n                                </a>\r\n                            </div>\r\n                            <div className=\"widget-header  mr-3\">\r\n                                <a href=\"/\" className=\"icon icon-sm \">\r\n                                    <ExitToAppIcon style={{fontSize: 40}}/>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <section className=\"section-pagetop bg\">\r\n                <div className=\"container\">\r\n                    <h2 className=\"title-page\">Perfil:</h2>\r\n                </div>\r\n        </section>\r\n        <section className=\"section-pagetop\">\r\n                <div className=\"container\">\r\n                    <form onSubmit={handleSubmit} >\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group col-md-4\">\r\n                                <label htmlFor=\"nombre\">Nombre:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"nombre\" pattern=\"[a-zA-Z\\s]+\" placeholder=\"Ingresa tu nombre\" required/>\r\n                                <small id=\"nombreHelp\" className=\"form-text text-muted\">Solo se aceptan letras en este campo.</small>\r\n                            </div>\r\n                            <div className=\"form-group col-md-4\">\r\n                                <label htmlFor=\"numero\">Número de teléfono:</label>\r\n                                <input type=\"text\" className=\"form-control\" id=\"numero\"  placeholder=\"Ingresa número de teléfono\" pattern=\"[0-9]+\" minLength=\"10\" maxLength=\"10\" required/>\r\n                                <small id=\"nombreHelp\" className=\"form-text text-muted\">Solo se aceptan números en este campo.</small>\r\n                            </div>\r\n                            <div className=\"form-group col-md-4\">\r\n                                <label htmlFor=\"email\">Correo Electrónico:</label>\r\n                                <input type=\"email\" className=\"form-control\" id=\"email\" placeholder=\"Ingresa correo electrónico\" required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row margin-div\">\r\n                            <div className=\"form-group col-md-6\">\r\n                                <label htmlFor=\"contraseña\">Contraseña nueva:</label>\r\n                                <input type=\"password\" className=\"form-control\" id=\"contraseña\" placeholder=\"Ingresa contraseña\"  minLength=\"8\" onChange={handleAblePassword}/>\r\n                                <small id=\"contraseñaHelp\" className=\"form-text text-muted\">Ingresa contraseña si y solo si deseas cambiarla. Longitud mínima de 8</small>\r\n                            </div>\r\n                            <div className=\"form-group col-md-6\">\r\n                                <label htmlFor=\"confirmarContraseña\">Confirmar contraseña:</label>\r\n                                <input type=\"password\" className=\"form-control\" id=\"confirmarContraseña\" placeholder=\"Ingresa contraseña\" disabled/>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"row center-div margin-div\">\r\n\r\n                            <div className=\"form-group col-md-2\">   \r\n                                <button className=\"btn btn-primary boton-estilo \" >Actualizar perfil</button>\r\n                            </div>\r\n                            <div className=\"form-group col-md-2\">\r\n                                <button type=\"button\" className=\"btn btn-primary boton-estilo \" onClick={handleDeleteUser}>Eliminar perfil</button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n        </section>\r\n      </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\api\\UserAPI.js",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\register\\RegisterForm.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\login\\LoginForm.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\base\\HousePaper.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\ImageUpload.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\api\\PropertyAPI.js",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\HeaderSimple.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Footer.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Properties.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Filter.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Header.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Buscar.jsx",[],"C:\\Users\\dchinchilla\\Documents\\Nueva carpeta\\Rentopolis-FrontEnd\\src\\components\\Property.jsx",[],{"ruleId":"104","severity":1,"message":"105","line":29,"column":7,"nodeType":"106","endLine":29,"endColumn":9,"suggestions":"107"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'user.id'. Either include it or remove the dependency array.","ArrayExpression",["108"],{"desc":"109","fix":"110"},"Update the dependencies array to be: [user.id]",{"range":"111","text":"112"},[1086,1088],"[user.id]"]